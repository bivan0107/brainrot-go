<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>BrainRot GO</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#0b0f14" />

  <!-- Leaflet (–∫–∞—Ä—Ç–∞) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Topbar -->
  <div id="topbar" class="glass">
    <div class="left">
      <button id="btnCenter" class="icon" title="–¶–µ–Ω—Ç—Ä –Ω–∞ –º–Ω–µ">üìç</button>
      <button id="btnSettings" class="icon" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
      <button id="btnBaseMenu" class="icon" title="–ë–∞–∑–∞">üè†</button>
    </div>
    <div class="right">
      <span id="hudMoney">‚ÇΩ 0</span>
      <span class="sep">‚Ä¢</span>
      <span id="hudPending">+0</span>
      <span class="sep">‚Ä¢</span>
      <span id="hudSlots">0/8</span>
    </div>
  </div>

  <!-- –ö–∞—Ä—Ç–∞ -->
  <div id="map"></div>

  <!-- –¢–æ—Å—Ç—ã -->
  <div id="toaster"></div>

  <!-- –ù–∏–∂–Ω—è—è —à—Ç–æ—Ä–∫–∞: –±–∞–∑–∞ -->
  <div id="sheetBase" class="sheet">
    <div class="handle"></div>
    <h3>–ë–∞–∑–∞</h3>
    <div class="row">
      <div><b>–°–ª–æ—Ç—ã:</b> <span id="baseSlots">0/8</span></div>
      <div><b>–í –æ–∂–∏–¥–∞–Ω–∏–∏:</b> <span id="basePending">0</span></div>
    </div>
    <div class="actions">
      <button id="btnCollect" class="primary">–°–æ–±—Ä–∞—Ç—å</button>
      <button id="btnSell" class="danger">–ü—Ä–æ–¥–∞—Ç—å –æ–¥–Ω–æ–≥–æ</button>
      <button id="btnCloseBase" class="ghost">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    <div id="ownedList" class="list"></div>
  </div>

  <!-- –ù–∏–∂–Ω—è—è —à—Ç–æ—Ä–∫–∞: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <div id="sheetSettings" class="sheet">
    <div class="handle"></div>
    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

    <div class="card">
      <div class="card-title">–ë–∞–∑–∞</div>
      <div class="card-row">
        <button id="btnMoveBase" class="primary">–ü–æ—Å—Ç–∞–≤–∏—Ç—å –±–∞–∑—É –∑–¥–µ—Å—å</button>
        <div id="cooldownInfo" class="muted"></div>
      </div>
    </div>

    <div class="card">
      <div class="card-title">–ê–≤–∞—Ç–∞—Ä –∏–≥—Ä–æ–∫–∞</div>
      <div class="avatar-row">
        <button data-avatar="dot" class="chip">‚óè –¢–æ—á–∫–∞</button>
        <button data-avatar="ring" class="chip">‚óé –ö–æ–ª—å—Ü–æ</button>
        <button data-avatar="arrow" class="chip">‚û§ –°—Ç—Ä–µ–ª–∫–∞</button>
        <button id="btnAvatarUpload" class="chip">üñº –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
        <input id="inputAvatar" type="file" accept="image/*" hidden />
      </div>
    </div>

    <div class="card">
      <div class="card-title">–ö–æ–Ω—Ç–µ–Ω—Ç</div>
      <div class="card-row">
        <button id="btnImportZip" class="ghost">–ò–º–ø–æ—Ä—Ç ZIP</button>
        <input id="inputZip" type="file" accept=".zip" hidden />
      </div>
    </div>

    <div class="card">
      <div class="card-title">–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</div>
      <div class="card-row">
        <button id="btnExportSave" class="ghost">–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</button>
        <button id="btnImportSave" class="ghost">–ò–º–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</button>
        <input id="inputSave" type="file" accept="application/json" hidden />
      </div>
    </div>

    <div class="card">
      <div class="card-title">–û –ø—Ä–æ–≥—Ä–∞–º–º–µ</div>
      <div class="muted small">
        –ö–∞—Ä—Ç–∞: CartoDB Dark Matter ‚Ä¢ –°–ø–∞–≤–Ω –≤ 200 –º, –ø–æ–∫—É–ø–∫–∞ ‚â§ 15 –º ‚Ä¢
        –î–µ—Å–ø–∞–≤–Ω –≤ 300 –º ‚Ä¢ –î–æ—Ö–æ–¥ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É (—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É –±–∞–∑—ã)
      </div>
    </div>

    <div class="actions">
      <button id="btnCloseSettings" class="ghost">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script src="game.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(()=>{});
    }
  </script>
</body>
</html>
